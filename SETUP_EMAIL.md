# üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ –§–æ—Ä–º–∞ - Email Integration

## –§–∞–π–ª–æ–≤–µ

–°—ä–∑–¥–∞–¥–µ–Ω–∏ —Å–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ —Ñ–∞–π–ª–æ–≤–µ –∑–∞ —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—Ç–∞ —Ñ–æ—Ä–º–∞:

1. **contact.php** - PHP —Å–∫—Ä–∏–ø—Ç –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –∏–º–µ–π–ª–∏
2. **js/main.js** - –û–±–Ω–æ–≤–µ–Ω JavaScript –∑–∞ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –∫—ä–º PHP

## üöÄ –°—Ç—ä–ø–∫–∏ –∑–∞ –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –°—Ç—ä–ø–∫–∞ 1: –ö–∞—á–≤–∞–Ω–µ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ

–ö–∞—á–∏ –≤—Å–∏—á–∫–∏ —Ñ–∞–π–ª–æ–≤–µ –Ω–∞ —Ç–≤–æ—è —Å—ä—Ä–≤—ä—Ä —á—Ä–µ–∑ FTP/SFTP –∏–ª–∏ cPanel File Manager:
```
/public_html/
  ‚îú‚îÄ‚îÄ index.html
  ‚îú‚îÄ‚îÄ contact.php          ‚Üê –í–ê–ñ–ù–û: –¢–æ–∑–∏ –Ω–æ–≤ —Ñ–∞–π–ª
  ‚îú‚îÄ‚îÄ css/
  ‚îî‚îÄ‚îÄ js/
```

### –°—Ç—ä–ø–∫–∞ 2: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ –Ω–∞ Email –∞–¥—Ä–µ—Å–∞

–û—Ç–≤–æ—Ä–∏ **contact.php** –∏ –ø—Ä–æ–º–µ–Ω–∏ —Å–ª–µ–¥–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ **—Ä–µ–¥ 18-19**:

```php
$to_email = 'office@syperweb.com'; 
$from_name = 'SyperWeb Contact Form';
```

**–ü—Ä–∏–º–µ—Ä:**
```php
$to_email = 'vasil@syperweb.com';
$from_name = 'SyperWeb - –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ –§–æ—Ä–º–∞';
```

### –°—Ç—ä–ø–∫–∞ 3: –¢–µ—Å—Ç–≤–∞–π —Ñ–æ—Ä–º–∞—Ç–∞

1. –û—Ç–≤–æ—Ä–∏ —Å–∞–π—Ç–∞ –≤ –±—Ä–∞—É–∑—ä—Ä
2. –ü–æ–ø—ä–ª–Ω–∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—Ç–∞ —Ñ–æ—Ä–º–∞
3. –ò–∑–ø—Ä–∞—Ç–∏ —Ç–µ—Å—Ç–æ–≤–æ —Å—ä–æ–±—â–µ–Ω–∏–µ
4. –ü—Ä–æ–≤–µ—Ä–∏ inbox-–∞ —Å–∏ (–∏ Spam –ø–∞–ø–∫–∞—Ç–∞!)

## ‚öôÔ∏è –î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ê–∫–æ –∏–º–µ–π–ª–∏—Ç–µ –ù–ï —Å–µ –∏–∑–ø—Ä–∞—â–∞—Ç

–ú–Ω–æ–≥–æ —Ö–æ—Å—Ç–æ–≤–µ –∏–∑–∏—Å–∫–≤–∞—Ç –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è. –ï—Ç–æ –Ω—è–∫–æ–ª–∫–æ –æ–ø—Ü–∏–∏:

#### –û–ø—Ü–∏—è 1: –ò–∑–ø–æ–ª–∑–≤–∞–π SMTP (–ü—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ)

–ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π PHPMailer –∑–∞ –ø–æ-–Ω–∞–¥–µ–∂–¥–Ω–æ –∏–∑–ø—Ä–∞—â–∞–Ω–µ:

1. –ò–∑—Ç–µ–≥–ª–∏ PHPMailer –æ—Ç: https://github.com/PHPMailer/PHPMailer
2. –ò–∑–ø–æ–ª–∑–≤–∞–π —Ç–æ–≤–∞ –≤–º–µ—Å—Ç–æ `contact.php`:

<details>
<summary>–í–∏–∂ contact.php —Å PHPMailer (–∫–ª–∏–∫–Ω–∏ —Ç—É–∫)</summary>

```php
<?php
require 'vendor/autoload.php'; // –∏–ª–∏ require 'PHPMailer/PHPMailer.php';

use PHPMailer\PHPMailer\PHPMailer;
use PHPMailer\PHPMailer\Exception;

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏
$to_email = 'info@syperweb.com';

// –í–∑–µ–º–∏ –¥–∞–Ω–Ω–∏ –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞
$name = $_POST['name'] ?? '';
$email = $_POST['email'] ?? '';
$message = $_POST['message'] ?? '';

$mail = new PHPMailer(true);

try {
    // SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞ Roundcube/cPanel
    $mail->isSMTP();
    $mail->Host = 'mail.yourdomain.com'; // SMTP —Å—ä—Ä–≤—ä—Ä (–æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ mail.—Ç–≤–æ—è-–¥–æ–º–µ–π–Ω.com)
    $mail->SMTPAuth = true;
    $mail->Username = 'info@syperweb.com'; // –¢–≤–æ—è email
    $mail->Password = '—Ç–≤–æ—è—Ç–∞-–ø–∞—Ä–æ–ª–∞'; // Email –ø–∞—Ä–æ–ª–∞—Ç–∞
    $mail->SMTPSecure = PHPMailer::ENCRYPTION_STARTTLS;
    $mail->Port = 587; // –∏–ª–∏ 465 –∑–∞ SSL
    $mail->CharSet = 'UTF-8';
    
    // –ò–∑–ø—Ä–∞—â–∞—á –∏ –ø–æ–ª—É—á–∞—Ç–µ–ª
    $mail->setFrom('info@syperweb.com', 'SyperWeb Form');
    $mail->addAddress($to_email);
    $mail->addReplyTo($email, $name);
    
    // –°—ä–¥—ä—Ä–∂–∞–Ω–∏–µ
    $mail->isHTML(true);
    $mail->Subject = "–ù–æ–≤–æ —Å—ä–æ–±—â–µ–Ω–∏–µ –æ—Ç $name";
    $mail->Body = "
        <h2>–ù–æ–≤–æ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ —Å—ä–æ–±—â–µ–Ω–∏–µ</h2>
        <p><strong>–ò–º–µ:</strong> $name</p>
        <p><strong>Email:</strong> $email</p>
        <p><strong>–°—ä–æ–±—â–µ–Ω–∏–µ:</strong></p>
        <p>$message</p>
    ";
    
    $mail->send();
    echo json_encode(['success' => true, 'message' => '–ò–∑–ø—Ä–∞—Ç–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!']);
    
} catch (Exception $e) {
    echo json_encode(['success' => false, 'message' => '–ì—Ä–µ—à–∫–∞: ' . $mail->ErrorInfo]);
}
?>
```
</details>

#### –û–ø—Ü–∏—è 2: –ù–∞–º–µ—Ä–∏ SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ —Å–∏

–ê–∫–æ –∏–∑–ø–æ–ª–∑–≤–∞—à cPanel/Roundcube, SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ —Å–∞:

- **SMTP Host:** `mail.—Ç–≤–æ—è-–¥–æ–º–µ–π–Ω.com` –∏–ª–∏ `localhost`
- **SMTP Port:** 587 (STARTTLS) –∏–ª–∏ 465 (SSL)
- **Username:** –¢–≤–æ—è—Ç email –∞–¥—Ä–µ—Å
- **Password:** Email –ø–∞—Ä–æ–ª–∞—Ç–∞

–ú–æ–∂–µ—à –¥–∞ –≥–∏ –Ω–∞–º–µ—Ä–∏—à –≤:
- cPanel ‚Üí Email Accounts ‚Üí Configure Email Client
- Roundcube ‚Üí Settings ‚Üí –Ω–µ –ø–æ–∫–∞–∑–≤–∞ SMTP, –Ω–æ –∏–∑–ø–æ–ª–∑–≤–∞ —Å—ä—â–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Ç–æ cPanel

#### –û–ø—Ü–∏—è 3: –ù–∞—Å—Ç—Ä–æ–π SPF/DKIM Records

–ó–∞ –¥–∞ —Å–µ –∏–∑–±–µ–≥–Ω–µ –ø–æ–ø–∞–¥–∞–Ω–µ—Ç–æ –≤ Spam:

1. –í–ª–µ–∑ –≤ cPanel
2. –û—Ç–∏–¥–∏ –Ω–∞ Email Deliverability
3. –ü—Ä–æ–≤–µ—Ä–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π SPF –∏ DKIM records

## üîí –°–∏–≥—É—Ä–Ω–æ—Å—Ç

contact.php –≤–∫–ª—é—á–≤–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ –∑–∞—â–∏—Ç–∏:
- ‚úÖ Input sanitization
- ‚úÖ Email validation
- ‚úÖ Rate limiting (3 —Å–µ–∫—É–Ω–¥–∏ –º–µ–∂–¥—É submissions)
- ‚úÖ Session-based spam protection
- ‚úÖ XSS protection

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º: "Method not allowed" –≥—Ä–µ—à–∫–∞
**–†–µ—à–µ–Ω–∏–µ:** –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ `contact.php` –µ –∫–∞—á–µ–Ω –ø—Ä–∞–≤–∏–ª–Ω–æ –∏ –∏–º–∞ –ø–æ–¥—Ö–æ–¥—è—â–∏ permissions (644)

### –ü—Ä–æ–±–ª–µ–º: –ù–µ –ø–æ–ª—É—á–∞–≤–∞–º –∏–º–µ–π–ª–∏
**–†–µ—à–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏ Spam/Junk –ø–∞–ø–∫–∞—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ PHP mail() —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ –µ –∞–∫—Ç–∏–≤–Ω–∞ –Ω–∞ —Ö–æ—Å—Ç–∞:
   ```php
   <?php
   if (function_exists('mail')) {
       echo 'mail() –µ –∞–∫—Ç–∏–≤–Ω–∞';
   } else {
       echo 'mail() –ù–ï –µ –∞–∫—Ç–∏–≤–Ω–∞ - –∏–∑–ø–æ–ª–∑–≤–∞–π SMTP';
   }
   ?>
   ```
3. –ü—Ä–æ–≤–µ—Ä–∏ error logs –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞ (cPanel ‚Üí Error Log)
4. –ò–∑–ø–æ–ª–∑–≤–∞–π PHPMailer —Å—ä—Å SMTP –≤–º–µ—Å—Ç–æ mail()

### –ü—Ä–æ–±–ª–µ–º: CORS Error –≤ –∫–æ–Ω–∑–æ–ª–∞—Ç–∞
**–†–µ—à–µ–Ω–∏–µ:** –ê–∫–æ —Å–∞–π—Ç—ä—Ç –µ –Ω–∞ —Ä–∞–∑–ª–∏—á–µ–Ω –¥–æ–º–µ–π–Ω –æ—Ç API-—Ç–æ, –¥–æ–±–∞–≤–∏ –≤ contact.php:
```php
header('Access-Control-Allow-Origin: https://—Ç–≤–æ—è-–¥–æ–º–µ–π–Ω.com');
```

## üìù Logging

contact.php –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—ä–∑–¥–∞–≤–∞ `contact_log.txt` —Ñ–∞–π–ª —Å—ä—Å –∑–∞–ø–∏—Å–∏ –∑–∞ –≤—Å–∏—á–∫–∏ –∏–∑–ø—Ä–∞—Ç–µ–Ω–∏ —Å—ä–æ–±—â–µ–Ω–∏—è:
```
[2025-12-14 15:30:45] - –°—ä–æ–±—â–µ–Ω–∏–µ –æ—Ç: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ (ivan@example.com)
```

–ó–∞ –¥–∞ –∏–∑–∫–ª—é—á–∏—à logging-–∞, –∏–∑—Ç—Ä–∏–π —Ä–µ–¥–æ–≤–µ—Ç–µ 132-134 –æ—Ç contact.php.

## üåê –ê–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏ –†–µ—à–µ–Ω–∏—è

–ê–∫–æ —Ö–æ—Å—Ç—ä—Ç —Ç–∏ –Ω–µ –ø–æ–¥–¥—ä—Ä–∂–∞ PHP mail() –∏–ª–∏ SMTP:

### 1. EmailJS (–ë–µ–∑–ø–ª–∞—Ç–Ω–æ)
- –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–π —Å–µ –Ω–∞ https://www.emailjs.com/
- –ù–∞—Å—Ç—Ä–æ–π email service
- –ó–∞–º–µ–Ω–∏ JS –∫–æ–¥–∞ —Å–ø–æ—Ä–µ–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞

### 2. Formspree (–ë–µ–∑–ø–ª–∞—Ç–Ω–æ –¥–æ 50 submissions/–º–µ—Å–µ—Ü)
- https://formspree.io/
- –ü—Ä–æ–º–µ–Ω–∏ form action –∫—ä–º Formspree endpoint

### 3. Google Forms
- –°—ä–∑–¥–∞–π Google Form
- Embed-–Ω–∏ –≥–æ –≤ —Å–∞–π—Ç–∞

## ‚úÖ Checklist

–ü—Ä–µ–¥–∏ –¥–∞ –ø—É—Å–Ω–µ—à –Ω–∞ –∂–∏–≤–æ:

- [ ] –ö–∞—á–µ–Ω `contact.php` –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞
- [ ] –ü—Ä–æ–º–µ–Ω–µ–Ω `$to_email` —Å —Ä–µ–∞–ª–Ω–∏—è —Ç–∏ email
- [ ] –¢–µ—Å—Ç–≤–∞–Ω–∞ —Ñ–æ—Ä–º–∞—Ç–∞ - –ø–æ–ª—É—á–µ–Ω –∏–º–µ–π–ª
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ Spam –ø–∞–ø–∫–∞
- [ ] –ê–∫–æ –Ω—è–º–∞ –∏–º–µ–π–ª–∏, –Ω–∞—Å—Ç—Ä–æ–µ–Ω PHPMailer —Å—ä—Å SMTP
- [ ] SPF/DKIM records –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏ (–∞–∫–æ –µ –≤—ä–∑–º–æ–∂–Ω–æ)

## üìû –ü–æ–º–æ—â

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∏, –ø—Ä–æ–≤–µ—Ä–∏:
1. PHP –≤–µ—Ä—Å–∏—è (–º–∏–Ω–∏–º—É–º 7.0+)
2. Server error logs
3. Mail server –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç —Ö–æ—Å—Ç–∞

---

**–ì–æ—Ç–æ–≤–æ!** –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—Ç–∞ —Ñ–æ—Ä–º–∞ —Å–µ–≥–∞ —â–µ –∏–∑–ø—Ä–∞—â–∞ —Ä–µ–∞–ª–Ω–∏ –∏–º–µ–π–ª–∏! üéâ
